erDiagram
    USERS ||--o{ CART : has
    USERS ||--o{ ORDERS : places
    BOOKS ||--o{ CART : in
    BOOKS ||--o{ ORDER_ITEMS : contains
    ORDERS ||--o{ ORDER_ITEMS : has

    USERS {
        int id PK
        string username UK
        string email UK
        string password_hash
        string full_name
        string role "admin/staff/customer"
        boolean is_active
        string customer_code UK "KH001, KH002..."
        string staff_code UK "NV001, NV002..."
        datetime created_at
    }

    BOOKS {
        int id PK
        string title
        string author
        string category
        text description
        decimal price
        int stock
        string image_url
        datetime created_at
        datetime updated_at
    }

    CART {
        int id PK
        int user_id FK
        int book_id FK
        int quantity
        datetime created_at
    }

    ORDERS {
        int id PK
        int user_id FK
        decimal total_amount
        string status
        string payment_status
        text shipping_address
        datetime created_at
        datetime updated_at
    }

    ORDER_ITEMS {
        int id PK
        int order_id FK
        int book_id FK
        int quantity
        decimal price
    }

    BANNERS {
        int id PK
        string title
        text description
        string image_url
        string link
        string position
        int display_order
        boolean is_active
        datetime created_at
        datetime updated_at
    }

