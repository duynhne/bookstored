%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#6366f1'}}}%%
flowchart TD
    Start([Admin/Staff]) --> Login[Login to Admin Panel<br/>Enter credentials]
    Login --> Verify{Valid<br/>credentials?}
    
    Verify -->|No| LoginError[Show error message]
    LoginError --> Login
    
    Verify -->|Yes| Dashboard[View Dashboard<br/>Overview of system status]
    
    Dashboard --> Overview[Review Key Metrics:<br/>- Total revenue<br/>- Order statistics<br/>- Pending tasks]
    
    Overview --> Menu{Select<br/>Management<br/>Task}
    
    %% Books Management
    Menu -->|Manage Books| BooksList[View All Books<br/>in inventory]
    BooksList --> BooksTask{Task?}
    
    BooksTask -->|Add New| AddBook[Add New Book<br/>Enter details & upload image]
    AddBook --> SaveBook[Save Book Information]
    SaveBook --> BooksList
    
    BooksTask -->|Update| EditBook[Edit Book Details<br/>Update price, stock, info]
    EditBook --> SaveEdit[Save Changes]
    SaveEdit --> BooksList
    
    BooksTask -->|Remove| DeleteBook[Remove Book<br/>from inventory]
    DeleteBook --> ConfirmDelete{Confirm<br/>deletion?}
    ConfirmDelete -->|Yes| RemoveBook[Delete Book Record]
    ConfirmDelete -->|No| BooksList
    RemoveBook --> BooksList
    
    BooksTask -->|Done| Menu
    
    %% Orders Management
    Menu -->|Process Orders| OrdersList[View All Orders<br/>Recent orders first]
    OrdersList --> OrdersTask{Task?}
    
    OrdersTask -->|New Orders| ReviewNew[Review Pending Orders<br/>Check order details]
    ReviewNew --> ConfirmOrders[Confirm Orders<br/>Mark as confirmed]
    ConfirmOrders --> NotifyCustomer[Customer notified<br/>of confirmation]
    NotifyCustomer --> OrdersList
    
    OrdersTask -->|Update Status| SelectOrder[Select Order]
    SelectOrder --> ChangeStatus[Update Order Status<br/>Confirmed â†’ Completed]
    ChangeStatus --> UpdatePayment{Update<br/>payment?}
    UpdatePayment -->|Yes| MarkPaid[Mark as Paid<br/>COD collected]
    UpdatePayment -->|No| OrdersList
    MarkPaid --> OrdersList
    
    OrdersTask -->|Cancel Order| CancelOrder[Cancel Order<br/>Customer request or issue]
    CancelOrder --> OrdersList
    
    OrdersTask -->|Done| Menu
    
    %% User Management
    Menu -->|Manage Users| UsersList[View Users<br/>Customers & Staff]
    UsersList --> UsersTask{Task?}
    
    UsersTask -->|Add User| AddUser[Add New User<br/>Customer or Staff member]
    AddUser --> UsersList
    
    UsersTask -->|Modify Status| ToggleStatus[Activate/Deactivate<br/>User account]
    ToggleStatus --> UsersList
    
    UsersTask -->|Done| Menu
    
    %% Content Management
    Menu -->|Manage Content| ContentList[View Banners<br/>Website promotional content]
    ContentList --> ContentTask{Task?}
    
    ContentTask -->|Add Banner| AddBanner[Add New Banner<br/>Upload image & set position]
    AddBanner --> ContentList
    
    ContentTask -->|Update Banner| EditBanner[Edit Banner<br/>Change image or settings]
    EditBanner --> ContentList
    
    ContentTask -->|Toggle Display| ToggleBanner[Show/Hide Banner]
    ToggleBanner --> ContentList
    
    ContentTask -->|Done| Menu
    
    %% Statistics
    Menu -->|View Statistics| Stats[View Statistics Dashboard<br/>Business analytics]
    Stats --> ViewCharts[Review Charts:<br/>- Revenue trends<br/>- Order status distribution<br/>- Top-selling books]
    ViewCharts --> Export{Export<br/>report?}
    Export -->|Yes| GenerateReport[Generate Report<br/>PDF or Excel]
    Export -->|No| Menu
    GenerateReport --> Menu
    
    %% Logout
    Menu -->|End Session| Logout[Logout from System]
    Logout --> End([Session Ended])
    
    style Start fill:#e1f5e1,stroke:#22c55e,stroke-width:3px
    style End fill:#ffe1e1,stroke:#ef4444,stroke-width:3px
    style Dashboard fill:#dbeafe,stroke:#3b82f6,stroke-width:2px
    style Menu fill:#f0e1ff,stroke:#a855f7,stroke-width:2px
    style ConfirmOrders fill:#d1fae5,stroke:#10b981
    style MarkPaid fill:#fef3c7,stroke:#f59e0b

